(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{346:function(t,s,a){"use strict";a.r(s);var n=a(25),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"node-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#node-js"}},[t._v("#")]),t._v(" node.js")]),t._v(" "),s("h2",{attrs:{id:"安装依赖失败"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装依赖失败"}},[t._v("#")]),t._v(" 安装依赖失败")]),t._v(" "),s("ul",[s("li",[t._v("Node版本的问题，eg：查看package.json，README.md，issue等可能出现node版本号")])]),t._v(" "),s("h2",{attrs:{id:"nvm管理node版本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nvm管理node版本"}},[t._v("#")]),t._v(" nvm管理node版本")]),t._v(" "),s("p",[t._v("下载 nvm-setup.exe 并安装")]),t._v(" "),s("ul",[s("li",[t._v("nvm version: 查看nvm版本")]),t._v(" "),s("li",[t._v("nvm list available：查看node的所有可用版本")]),t._v(" "),s("li",[t._v("nvm install 12.22.12")]),t._v(" "),s("li",[t._v("nvm use 12.22.12")]),t._v(" "),s("li",[t._v("nvm uninstall 12.22.12")]),t._v(" "),s("li",[t._v("nvm list / nvm ls: 查看已安装的所有版本")]),t._v(" "),s("li",[t._v("nvm current: 查看当前使用的版本")])]),t._v(" "),s("p",[t._v("低版本的node，会导致npm 和pnpm 使用不了。eg: node14,node12。")]),t._v(" "),s("h2",{attrs:{id:"node-js工具库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#node-js工具库"}},[t._v("#")]),t._v(" node.js工具库")]),t._v(" "),s("h3",{attrs:{id:"esmodule的typescript工具库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#esmodule的typescript工具库"}},[t._v("#")]),t._v(" EsModule的TypeScript工具库")]),t._v(" "),s("p",[t._v("EsModule模式，不能使用__dirname、require")]),t._v(" "),s("h2",{attrs:{id:"node-js的api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#node-js的api"}},[t._v("#")]),t._v(" node.js的API")]),t._v(" "),s("h3",{attrs:{id:"fs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fs"}},[t._v("#")]),t._v(" fs")]),t._v(" "),s("ul",[s("li",[t._v("readdirSync")]),t._v(" "),s("li",[t._v("statSync")]),t._v(" "),s("li",[t._v("existsSync")]),t._v(" "),s("li",[t._v("mkdirSync")]),t._v(" "),s("li",[t._v("readFileSync")]),t._v(" "),s("li",[t._v("rmSync")]),t._v(" "),s("li",[t._v("writeFileSync")])]),t._v(" "),s("h3",{attrs:{id:"url"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#url"}},[t._v("#")]),t._v(" url")]),t._v(" "),s("ul",[s("li",[t._v("fileURLToPath")])]),t._v(" "),s("h3",{attrs:{id:"process"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#process"}},[t._v("#")]),t._v(" process")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("argv：解析命令行参数")])]),t._v(" "),s("li",[s("p",[t._v("cwd: 当前的工作目录")])]),t._v(" "),s("li",[s("p",[t._v("env:")])]),t._v(" "),s("li",[s("p",[t._v("exit(0)：指示 Node.js 以 code 的退出状态同步终止进程")])])]),t._v(" "),s("h3",{attrs:{id:"path"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#path"}},[t._v("#")]),t._v(" path")]),t._v(" "),s("ul",[s("li",[t._v("resolve: 解析为一个绝对路径，换言之，构造绝对路径,当前命令行的绝对路径(区别：__dirname是当前文件的绝对路径)")])]),t._v(" "),s("p",[s("code",[t._v("const dir = resolve(__dirname,")]),t._v("../packages/${target}/package.json"),s("code",[t._v(");")])]),t._v(" "),s("p",[t._v("打印结果：D:\\git-database\\no-less-than-anyones-effort\\vue3.4.0\\packages\\reactivity\\package.json")]),t._v(" "),s("ul",[s("li",[t._v("join:")])]),t._v(" "),s("h3",{attrs:{id:"child-process"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#child-process"}},[t._v("#")]),t._v(" child_process")]),t._v(" "),s("ul",[s("li",[t._v("exexSync：同步执行shell命令(npm view 包名 version)")])]),t._v(" "),s("h3",{attrs:{id:"module"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#module"}},[t._v("#")]),t._v(" module")]),t._v(" "),s("ul",[s("li",[t._v("createRequire: esModule不能使用require")])]),t._v(" "),s("div",{staticClass:"language-md extra-class"},[s("pre",{pre:!0,attrs:{class:"language-md"}},[s("code",[t._v("require: 一个json，或者commonjs模块（esModule不能使用require,commonJs才可以）\n解决办法：\nimport { createRequire} from \"module\";\nconst require = createRequire(import.meta.url);\nconst pkg = require('../package.json');\n\nimport.meta.url ://file:///D:/soul-ocean/vue3_monorepo/script/dev.js\n__dirname：当前文件的绝对路径（esModule不能使用__dirname,commonJs才可以）\n解决办法：\nimport { dirname } from \"path\";\nimport { fileURLToPath } from 'url';\nconst __filename = fileURLToPath(import.meta.url);//获取文件的绝对路径\n//D:\\soul-ocean\\vue3_monorepo\\scripts\\dev.js\nconst __dirname = dirname(__filename);\n//D:\\soul-ocean\\vue3_monorepo\\scripts\n")])])]),s("h3",{attrs:{id:"os"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#os"}},[t._v("#")]),t._v(" os")]),t._v(" "),s("ul",[s("li",[t._v("cpus")])]),t._v(" "),s("h3",{attrs:{id:"api使用场景分析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api使用场景分析"}},[t._v("#")]),t._v(" API使用场景分析")]),t._v(" "),s("h5",{attrs:{id:"require和fs-readfilesync区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#require和fs-readfilesync区别"}},[t._v("#")]),t._v(" require和fs.readFileSync区别？")]),t._v(" "),s("ul",[s("li",[t._v("require: 可用于JSON文件，JavaScript模块。加载JSON文件时，会将JSON文件解析为JavaScript对象并返回。")]),t._v(" "),s("li",[t._v("fs.readFileSync,读取JSON文件时，它只是读取文件的原始内容，需要额外步骤将其解析为JavaScript对象。")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs-extra'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" res1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFileSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./package1.json'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" res2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFileSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./package1.json'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf8'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" res3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFileSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./package1.json'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf8'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//得到一个Buffer")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" res2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//得到字符串")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//得到一个js对象")]),t._v("\n")])])]),s("h3",{attrs:{id:"命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命令"}},[t._v("#")]),t._v(" 命令")]),t._v(" "),s("ul",[s("li",[t._v("node  *** -f esm")])]),t._v(" "),s("h2",{attrs:{id:"npm包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm包"}},[t._v("#")]),t._v(" npm包")]),t._v(" "),s("h3",{attrs:{id:"fast-glob-返回符合条件的文件路径列表。"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fast-glob-返回符合条件的文件路径列表。"}},[t._v("#")]),t._v(" fast-glob: 返回符合条件的文件路径列表。")]),t._v(" "),s("p",[t._v("是的，fast-glob 的主要功能是 快速匹配文件路径，它可以根据指定的 通配符模式（Glob Patterns） 扫描文件系统，返回符合条件的文件路径列表。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" files "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'**/*.m4s'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("ignore")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'package-lock.json'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("cwd")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" __dirname"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("files"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"command-exists-检查命令-命令行的-是否存在"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#command-exists-检查命令-命令行的-是否存在"}},[t._v("#")]),t._v(" command-exists：检查命令（命令行的）是否存在")]),t._v(" "),s("p",[t._v("sync as commandExistsSync: commandExistsSync('pnpm')")]),t._v(" "),s("h3",{attrs:{id:"copyfiles"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#copyfiles"}},[t._v("#")]),t._v(" copyfiles")]),t._v(" "),s("p",[t._v('copyfiles -a -u 1 "src/config/**" lib：在script命令通过Node.js的fs模块完成I/O操作。')]),t._v(" "),s("h3",{attrs:{id:"commander-构建命令行界面"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#commander-构建命令行界面"}},[t._v("#")]),t._v(" commander：构建命令行界面")]),t._v(" "),s("p",[t._v("区别于minimist: minimist 用来解析命令行参数\nminimist 常见语法 "),s("code",[t._v("const args = require('minimist')(process.argv.slice(2))")])]),t._v(" "),s("h4",{attrs:{id:"注意"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[t._v("#")]),t._v(" ⭐️ 注意")]),t._v(" "),s("ul",[s("li",[t._v("使用commander, 要记得加 "),s("code",[t._v("program.parse(process.argv);")])])]),t._v(" "),s("h3",{attrs:{id:"inquirer-构建交互式命令行界面"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#inquirer-构建交互式命令行界面"}},[t._v("#")]),t._v(" inquirer:构建交互式命令行界面")]),t._v(" "),s("h3",{attrs:{id:"ora-输出时的loading效果-和显示各种状态的图标等"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ora-输出时的loading效果-和显示各种状态的图标等"}},[t._v("#")]),t._v(" ora：输出时的loading效果，和显示各种状态的图标等")]),t._v(" "),s("h3",{attrs:{id:"fs-extra-强大的文件操作功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fs-extra-强大的文件操作功能"}},[t._v("#")]),t._v(" fs-extra：强大的文件操作功能")]),t._v(" "),s("ul",[s("li",[t._v("moveSync: 可以移动文件，还可以改文件名")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 配合fast-glob，挺好用的")]),t._v("\nfs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("moveSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./old/file.md'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./new/renamed.txt'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[t._v("remove: 删除文件")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("./")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v(".mp3")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[t._v("readFileSync")]),t._v(" "),s("li",[t._v("writeFileSync")]),t._v(" "),s("li",[t._v("existsSync")]),t._v(" "),s("li",[t._v("mkdirSync")])]),t._v(" "),s("p",[t._v("JSON.stringify(res1, null, 2)  格式化输出 JSON 数据。")]),t._v(" "),s("h3",{attrs:{id:"ejs-embedded-嵌入-之中-将ejs模板语法编译成js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ejs-embedded-嵌入-之中-将ejs模板语法编译成js"}},[t._v("#")]),t._v(" ejs(embedded 嵌入...之中**)：将ejs模板语法编译成js")]),t._v(" "),s("div",{staticClass:"language-md extra-class"},[s("pre",{pre:!0,attrs:{class:"language-md"}},[s("code",[t._v("<%"),s("span",{pre:!0,attrs:{class:"token italic"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("_")]),s("span",{pre:!0,attrs:{class:"token content"}},[t._v(" if (enableStylelint) {  ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("_")])]),t._v("%>\n<%"),s("span",{pre:!0,attrs:{class:"token italic"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("_")]),s("span",{pre:!0,attrs:{class:"token content"}},[t._v(" stylelintIgnores.forEach((txt) => { ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("_")])]),t._v("%>\n<%= txt %>\n<% }) %>\n<%"),s("span",{pre:!0,attrs:{class:"token italic"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("_")]),s("span",{pre:!0,attrs:{class:"token content"}},[t._v(" } ")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("_")])]),t._v("%>\n")])])]),s("h3",{attrs:{id:"chalk-对控制台输出添加样式-console-log打印不明显"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#chalk-对控制台输出添加样式-console-log打印不明显"}},[t._v("#")]),t._v(" chalk：对控制台输出添加样式（console.log打印不明显）")]),t._v(" "),s("h3",{attrs:{id:"git-clone-克隆git上的文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-clone-克隆git上的文件"}},[t._v("#")]),t._v(" git-clone：克隆git上的文件")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" clone "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'git-clone/promise'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" removeSync "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs-extra'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" process "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'process'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" repo "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://github.com/forfreeagainst/zhrx-code-review.git'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" targetPath "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'src/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" options "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("checkout")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'main'")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//revision/branch/tag to check out after clone")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("clone")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("repo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" targetPath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//删除.git文件")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" removePath "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cwd")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("targetPath"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v(".git")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"🚀 ~removePath:"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" removePath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("removePath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"terminallink-终端链接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#terminallink-终端链接"}},[t._v("#")]),t._v(" terminalLink: 终端链接")]),t._v(" "),s("h3",{attrs:{id:"cross-env"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cross-env"}},[t._v("#")]),t._v(" cross-env")]),t._v(" "),s("p",[t._v("改变的是当前执行命令的进程环境")]),t._v(" "),s("h3",{attrs:{id:"cross-spawn"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cross-spawn"}},[t._v("#")]),t._v(" cross-spawn")]),t._v(" "),s("p",[t._v("会创建新的子进程来执行指定的命令")]),t._v(" "),s("h3",{attrs:{id:"vue-tsc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue-tsc"}},[t._v("#")]),t._v(" vue-tsc")]),t._v(" "),s("p",[t._v("vue3+typescript的类型检查")]),t._v(" "),s("p",[t._v("常用命令："),s("code",[t._v("vue-tsc --noEmit")])]),t._v(" "),s("h3",{attrs:{id:"脚手架入门-commander、ora、inquirer、chalk、fs-extra"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#脚手架入门-commander、ora、inquirer、chalk、fs-extra"}},[t._v("#")]),t._v(" 脚手架入门: commander、ora、inquirer、chalk、fs-extra")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token hashbang comment"}},[t._v("#!/usr/bin/env node")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//demo练习：commander, ora, inquirer, chalk，fs-extra")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//bug:ora版本8.多，提示oraEsM导入失败，使用低的版本了。")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" program "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'commander'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ora "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ora'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" inquirer "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'inquirer'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" chalk "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'chalk'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// import fs from 'fs-extra';")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 常见API: readJSONSync,")]),t._v("\n\nprogram\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 包名 init(command是必输，option是选输)")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("command")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'init'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("description")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"一键接入"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 包名 init -s "<>必输"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("option")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-s, --port <number>'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{port: \"必输内容\"}'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 包名 init -z "[]选输"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("option")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-z, --fix [boolean]"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"输入-z, 默认{fix: true}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 包名 init -v")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("option")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-v'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"前面一个参数没有逗号分隔, 输入-v,得到{v: true},否则为undefined"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("action")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("opt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//args是选项值，如：Object: {fix: true}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// const { port, fix, v} = opt;")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(port, fix, v);")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("opt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" step "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" answer1 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" inquirer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("prompt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'input'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'answer1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("message")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请输入你的项目名'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("answer1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("answer1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//红色，加粗，背景色是白色，%s是变量")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("chalk"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("red"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bold"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bgWhite")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请%s%s'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'输入'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'，不然无法使用'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Question_Two "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'黑色'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'black'")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'白色'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'white'")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'黄色'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'yellow'")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" answer2 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" inquirer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("prompt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'list'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'answer2'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("message")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("Step ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("step"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v(". 请选择你喜欢的颜色")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("choices")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Question_Two"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("answer2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" answer3 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" inquirer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("prompt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'confirm'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'answer3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//你确定要使用唯一的外挂 no(界面会显示yes或者no)")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("message")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'你确定要使用唯一的外挂'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//answer的值为true或者false")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("answer3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//loading的效果")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// const loading = ora('初始化加载中......').start();")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// setTimeout(() => {")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   loading.stop();")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// },2000)")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// program")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   .name('wiggins-lint-cli')")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   .description('CLI to some JavaScript string utilities')")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   .version('0.0.0');")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// program")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   .option('-s, --small', 'small pizza size')")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   .option('-c, --cheese [type]', 'Add cheese with optional type');")]),t._v("\n\nprogram"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("argv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"package-json字段详解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#package-json字段详解"}},[t._v("#")]),t._v(" package.json字段详解")]),t._v(" "),s("h3",{attrs:{id:"参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://npm.nodejs.cn/cli/v8/configuring-npm/package-json#google_vignette",target:"_blank",rel:"noopener noreferrer"}},[t._v("npm的packages.json处理细节"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"字段说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#字段说明"}},[t._v("#")]),t._v(" 字段说明")]),t._v(" "),s("ul",[s("li",[t._v("必备属性：包名称name，包版本version")]),t._v(" "),s("li",[t._v("目录&文件相关：程序入口main，命令行工具入口bin，发布文件配制files")]),t._v(" "),s("li",[t._v("协议：license(MIT、ISC)")]),t._v(" "),s("li",[t._v("脚本配制： script，config")]),t._v(" "),s("li",[t._v("依赖：dependencies生产依赖，devDependencies开发环境依赖，peerDependencies兼容依赖")]),t._v(" "),s("li",[t._v("描述信息（项目）：项目描述description，项目关键字keywords")]),t._v(" "),s("li",[t._v("描述信息（作者）：作者author,贡献者contributors")]),t._v(" "),s("li",[t._v("描述信息（地址）：首页homepage，仓库repository，提交bug地址bugs")]),t._v(" "),s("li",[t._v("发布配制： private限制发布，限制发布仓库+限制发布版本publishConfig，os限制安装系统\n"),s("code",[t._v("private: true; 不会发布到npm市场，只是一个仓库，一个基建罢了。")])])]),t._v(" "),s("h3",{attrs:{id:"package-json常见脚本命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#package-json常见脚本命令"}},[t._v("#")]),t._v(" package.json常见脚本命令")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("npm install --no-frozen-lockfile")]),t._v("：不冻结锁文件版本")])]),t._v(" "),s("p",[t._v("1.确保版本一致性：在持续集成环境中，"),s("code",[t._v("--frozen-lockfile")]),t._v(" 可以防止由于"),s("code",[t._v("package.json")]),t._v("和锁文件版本\n不匹配而导致的依赖更新，从而确保每次安装的依赖版本一致。")]),t._v(" "),s("p",[t._v("2.避免意外更新：如果锁文件不存在或不满足"),s("code",[t._v("package.json")]),t._v("中的所有依赖项，Yarn或npm会查找\n最新的满足约束并更新锁文件。使用"),s("code",[t._v("--frozen-lockfile")]),t._v("可以避免这种情况。")]),t._v(" "),s("ul",[s("li",[t._v("大事发生的")])]),t._v(" "),s("h3",{attrs:{id:"切换npm的镜像源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#切换npm的镜像源"}},[t._v("#")]),t._v(" 切换npm的镜像源")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("npm install -g nrm")])]),t._v(" "),s("li",[s("code",[t._v("nrm ls")]),t._v(" 或 "),s("code",[t._v("npm config get registry")])]),t._v(" "),s("li",[s("code",[t._v("nrm use npm(切换npm的镜像源)")]),t._v(" 或 "),s("code",[t._v("npm config set registry=***")])])]),t._v(" "),s("h3",{attrs:{id:"package-json中unpkg用途"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#package-json中unpkg用途"}},[t._v("#")]),t._v(" package.json中unpkg用途？")]),t._v(" "),s("p",[t._v("在"),s("code",[t._v("package.json")]),t._v("中并不存在"),s("code",[t._v("unpkg")]),t._v("这样一个直接的标准字段或配置项，但"),s("code",[t._v("unpkg")]),t._v("与"),s("code",[t._v("package.json")]),t._v("\n所涉及的包管理等内容密切相关，其主要用于如下：")]),t._v(" "),s("ul",[s("li",[t._v("内容分发网络（CDN）服务")])]),t._v(" "),s("p",[s("code",[t._v("unpkg")]),t._v("是一个免费的CDN，可用于托管和分发开源项目的代码和资源。当一个项目的开发者将代码发布到\n像npm这样的包管理器时，"),s("code",[t._v("unpkg")]),t._v("能根据"),s("code",[t._v("package.json")]),t._v("中的信息，如版本号、文件路径等，快速地将\n相应的文件内容通过CDN分发到全球各地，让用户能快速访问和加载项目的代码和资源。")]),t._v(" "),s("ul",[s("li",[t._v("快速原型开发和测试")])]),t._v(" "),s("p",[t._v("在开发前端时，开发者可以在HTML文件中直接通过"),s("code",[t._v("unpkg")]),t._v("的链接引入所需的库或框架，无需在本地使用\n"),s("code",[t._v("npm install")]),t._v("等命令安装。例如"),s("code",[t._v("https://unpkg.com/vue@3.2.37/dist/vue.global.js")]),t._v("，可快速\n验证代码逻辑或展示效果。")]),t._v(" "),s("ul",[s("li",[t._v("共享和引用项目源码")])]),t._v(" "),s("p",[t._v("项目中的"),s("code",[t._v("package.json")]),t._v("记录了项目的依赖等信息，"),s("code",[t._v("unpkg")]),t._v("可根据这些让其他开发者方便地共享和引用\n项目的资源，便于代码的复用和传播。如果项目中有一些可供外部使用的工具函数、样式文件等，通过\n"),s("code",[t._v("unpkg")]),t._v("结合"),s("code",[t._v("package.json")]),t._v("的配置，能轻松实现资源共享。")]),t._v(" "),s("h3",{attrs:{id:"npm-script有生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm-script有生命周期"}},[t._v("#")]),t._v(" npm script有生命周期？")]),t._v(" "),s("p",[t._v("npm script是有生命周期的，主要包括以下几个常见阶段")]),t._v(" "),s("h4",{attrs:{id:"生命周期顺序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生命周期顺序"}},[t._v("#")]),t._v(" 生命周期顺序")]),t._v(" "),s("ol",[s("li",[t._v("⭐️ 安装阶段：preinstall, install, postinstall, prepare")]),t._v(" "),s("li",[t._v("运行脚本阶段：prerun, run, postrun")]),t._v(" "),s("li",[t._v("卸载阶段：preuninstall,unintall,postuninstall")])]),t._v(" "),s("h4",{attrs:{id:"预安装阶段-preinstall"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#预安装阶段-preinstall"}},[t._v("#")]),t._v(" ⭐️ 预安装阶段（preinstall）")]),t._v(" "),s("ul",[s("li",[t._v("在"),s("code",[t._v("npm install")]),t._v("开始安装依赖之前触发。可用于执行一些准备工作，如检查环境、下载额外资源等。")])]),t._v(" "),s("p",[t._v("eg: "),s("code",[t._v('"preinstall": "npx only-allow pnpm"')]),t._v(" 指定pnpm作为包管理工具")]),t._v(" "),s("h4",{attrs:{id:"安装阶段-install"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装阶段-install"}},[t._v("#")]),t._v(" 安装阶段（install）")]),t._v(" "),s("ul",[s("li",[t._v("当执行"),s("code",[t._v("npm install")]),t._v("命令时，会下载并安装项目的依赖包，此阶段会触发相关脚本。")])]),t._v(" "),s("h4",{attrs:{id:"准备阶段-prepare"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#准备阶段-prepare"}},[t._v("#")]),t._v(" ⭐️ 准备阶段（prepare）")]),t._v(" "),s("ul",[s("li",[t._v("在所有依赖安装完成后执行，在生成"),s("code",[t._v("package.json")]),t._v("或"),s("code",[t._v("npm-shrinkwrap.json")]),t._v("前执行。与会在\n"),s("code",[t._v("npm publish")]),t._v("之前执行，用于在发布前进行一些准备工作。")])]),t._v(" "),s("p",[t._v("eg: "),s("code",[t._v('"prepare": "husky install "')]),t._v("安装husky(git生命周期)")]),t._v(" "),s("h4",{attrs:{id:"预发布阶段-prepublish"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#预发布阶段-prepublish"}},[t._v("#")]),t._v(" 预发布阶段（prepublish）")]),t._v(" "),s("ul",[s("li",[t._v("在 "),s("code",[t._v("npm publish")]),t._v(" 命令执行前触发。常用于进行一些准备发布的操作。像代码检查、测试、构建\n等，确保发布的代码符合要求。")])]),t._v(" "),s("h4",{attrs:{id:"发布阶段-publish"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发布阶段-publish"}},[t._v("#")]),t._v(" 发布阶段（publish）")]),t._v(" "),s("ul",[s("li",[t._v("执行 "),s("code",[t._v("npm publish")]),t._v(" 命令时触发，用于将包发布到npm仓库。")])]),t._v(" "),s("h4",{attrs:{id:"预启动阶段-prestart"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#预启动阶段-prestart"}},[t._v("#")]),t._v(" 预启动阶段（prestart）")]),t._v(" "),s("ul",[s("li",[t._v("在 "),s("code",[t._v("npm start")]),t._v("命令执行前触发。用于进行启动前的准备工作，如环境配制、检查服务依赖等。")])]),t._v(" "),s("h4",{attrs:{id:"启动阶段-start"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动阶段-start"}},[t._v("#")]),t._v(" 启动阶段（start）")]),t._v(" "),s("ul",[s("li",[t._v("执行"),s("code",[t._v("npm start")]),t._v(" 命令时触发，通常用于启动项目的主要服务或应用程序。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);