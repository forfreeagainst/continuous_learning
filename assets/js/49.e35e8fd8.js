(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{370:function(t,a,s){"use strict";s.r(a);var e=s(25),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"vue2迁移到vue3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue2迁移到vue3"}},[t._v("#")]),t._v(" vue2迁移到vue3")]),t._v(" "),a("p",[t._v("完全可以自己讲vue-form-making 迁移到 vue3。")]),t._v(" "),a("h2",{attrs:{id:"价值-最佳实践-评估"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#价值-最佳实践-评估"}},[t._v("#")]),t._v(" 价值+最佳实践+评估")]),t._v(" "),a("h3",{attrs:{id:"价值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#价值"}},[t._v("#")]),t._v(" 价值")]),t._v(" "),a("ul",[a("li",[t._v("更好地理解低代码，表单生成工具")]),t._v(" "),a("li",[t._v("vueDraggable转换成vueDraggableNext,万一不行，自己二次封装sortable.js（几百行代码）")])]),t._v(" "),a("h3",{attrs:{id:"评估"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#评估"}},[t._v("#")]),t._v(" 评估")]),t._v(" "),a("ul",[a("li",[t._v("依赖的插件/库尚未兼容 Vue 3。")])]),t._v(" "),a("h3",{attrs:{id:"实操"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实操"}},[t._v("#")]),t._v(" 实操")]),t._v(" "),a("h4",{attrs:{id:"进化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#进化"}},[t._v("#")]),t._v(" 进化")]),t._v(" "),a("ul",[a("li",[t._v("vue-cli自带的打包配置+webpack => vite")])]),t._v(" "),a("h4",{attrs:{id:"注意"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[t._v("#")]),t._v(" 注意")]),t._v(" "),a("ul",[a("li",[t._v("不要乱删方法！！！，有可能跨组件调用。（构建工具，会消除死代码）")]),t._v(" "),a("li",[t._v("不要乱删导入的组件，可大驼峰或者中划线命名法。")])]),t._v(" "),a("h4",{attrs:{id:"常规"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常规"}},[t._v("#")]),t._v(" 常规")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("选项式 API => 组合式 API，没有this")])]),t._v(" "),a("li",[a("p",[t._v("动态类型语言 JavaScript => 静态类型语言 TypeScript")])]),t._v(" "),a("li",[a("p",[t._v("生命周期beforeCreate, created, destoryed, ... => unMounted, setup, onMounted, ...")])]),t._v(" "),a("li",[a("p",[t._v("数组的 $set 和 $delete =>")])]),t._v(" "),a("li",[a("p",[t._v("watch => 语法变更")])])]),t._v(" "),a("p",[t._v("A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")]),t._v(" "),a("ul",[a("li",[t._v("组件ref => const xxx =ref(null);")])]),t._v(" "),a("p",[t._v("命名冲突：组件名(一会中划线，一会大驼峰)，组件ref，响应式对象ref")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("setTimeout、 $nextTick => nextTick")])]),t._v(" "),a("li",[a("p",[t._v("响应式对象data => ref 或 reactive")])]),t._v(" "),a("li",[a("p",[t._v("v-model(value、input, 1个) + .sync(多个) => v-model(modelValue、update:modelValue，多个)")])])]),t._v(" "),a("p",[a("code",[t._v('<ChildComponent v-model:title="pageTitle" v-model:content="pageContent"/>')]),t._v(" "),a("code",[t._v('<ChildComponent v-model="dialogVisible"/>')])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" emit "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineEmits")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'update:select'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("emit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'update:select'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("ul",[a("li",[t._v("vue-router3.0 => vue-router4.0")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 旧的写法")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$router"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$route"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 新的写法")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("useRouter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useRoute"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue-router'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" router "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useRouter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" route "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useRoute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nrouter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("ul",[a("li",[a("p",[t._v("UI框架，需要注意的是遗弃的属性等 => 替换类似效果")])]),t._v(" "),a("li",[a("p",[t._v("不规范的代码：组件名和响应式对象的变量 一致，在没有this的情况下 => 人工肉眼替换")])])]),t._v(" "),a("h5",{attrs:{id:"插槽"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#插槽"}},[t._v("#")]),t._v(" 插槽")]),t._v(" "),a("ul",[a("li",[t._v("作用域插槽(Scoped Slots)允许子组件向父组件传递数据，使父组件可以控制如何渲染这些数据 =>")])]),t._v(" "),a("h6",{attrs:{id:"vue3写法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue3写法"}},[t._v("#")]),t._v(" Vue3写法")]),t._v(" "),a("p",[t._v("具名插槽")]),t._v(" "),a("div",{staticClass:"language-md extra-class"},[a("pre",{pre:!0,attrs:{class:"language-md"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--父组件--\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("BaseLayout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("v-slot:")]),t._v("header")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- header 插槽的内容放这里 --\x3e")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("BaseLayout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--子组件--\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("container"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("slot")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("header"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("slot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h5",{attrs:{id:"vue2模板只允许一个根节点-vue3的-fragment-片段-允许组件模板拥有-多个根节点。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue2模板只允许一个根节点-vue3的-fragment-片段-允许组件模板拥有-多个根节点。"}},[t._v("#")]),t._v(" Vue2模板只允许一个根节点 => Vue3的 Fragment(片段) 允许组件模板拥有 多个根节点。")]),t._v(" "),a("ul",[a("li",[t._v("避免多余的div嵌套，让DOM 结构更加简洁。")]),t._v(" "),a("li",[t._v("更好的渲染性能：Fragment 的扁平化处理减少了虚拟 DOM 树的深度，提升 diff 效率。")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("特性")]),t._v(" "),a("th",[t._v("Vue 2")]),t._v(" "),a("th",[t._v("Vue 3 (Fragment)")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("虚拟DOM根节点")]),t._v(" "),a("td",[t._v("必须是单个元素节点")]),t._v(" "),a("td",[t._v("可以是Fragment（特殊符号）")])]),t._v(" "),a("tr",[a("td",[t._v("挂载方式")]),t._v(" "),a("td",[t._v("通过 $el 挂载")]),t._v(" "),a("td",[t._v("直接操作父容器插入子节点")])]),t._v(" "),a("tr",[a("td",[t._v("Diff算法")]),t._v(" "),a("td",[t._v("递归树比对")]),t._v(" "),a("td",[t._v("扁平化同级节点比对")])]),t._v(" "),a("tr",[a("td",[t._v("模板编译结果")]),t._v(" "),a("td",[t._v("返回单个VNode函数")]),t._v(" "),a("td",[t._v("返回节点数组")])]),t._v(" "),a("tr",[a("td",[t._v("组件实例管理")]),t._v(" "),a("td",[t._v("依赖根元素引用")]),t._v(" "),a("td",[t._v("无根元素依赖")])])])]),t._v(" "),a("p",[t._v("仍需注意：")]),t._v(" "),a("ul",[a("li",[t._v("过渡动画（Transition）：仍需要单根节点来确定动画目标")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Transition"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div v"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"show"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" 必须单根 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    Content\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Transition"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("ul",[a("li",[t._v("属性继承：多根节点时，父组件传递的非 prop 属性需要显式绑定")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("template"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("header v"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("bind"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$attrs"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("header"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("main v"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("bind"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$attrs"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("main"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("template"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("h2",{attrs:{id:"阅读文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#阅读文档"}},[t._v("#")]),t._v(" 阅读文档")])])}),[],!1,null,null,null);a.default=r.exports}}]);